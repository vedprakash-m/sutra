{"version":3,"names":["cov_1vvgyvalup","actualCoverage","s","getApiBaseUrl","f","b","window","global","import","meta","env","VITE_API_URL","NODE_ENV","API_BASE_URL","ApiService","constructor","baseUrl","Object","defineProperty","getAuthToken","then","token","setToken","catch","response","fetch","ok","authInfo","json","clientPrincipal","accessToken","error","console","debug","getHeaders","headers","handleResponse","errorMessage","status","location","href","Error","errorData","message","e","get","endpoint","params","url","URL","entries","forEach","key","value","undefined","searchParams","append","String","toString","method","post","data","body","JSON","stringify","put","delete","apiService","collectionsApi","list","id","create","collection","update","playbooksApi","playbook","execute","variables","integrationsApi","listLLM","saveLLM","provider","integration","deleteLLM","adminApi","getLLMSettings","updateLLMSettings","settings","getSystemHealth","getUsageStats","llmApi","promptText","model"],"sources":["/Users/vedprakashmishra/sutra/src/services/api.ts"],"sourcesContent":["// API Configuration - Direct access to Azure Functions (No Gateway)\nconst getApiBaseUrl = () => {\n  // Handle test environment where import.meta might not be available\n  if (typeof window === 'undefined' && typeof global !== 'undefined') {\n    return \"http://localhost:7071/api\"; // Test environment default\n  }\n  \n  return (\n    import.meta.env.VITE_API_URL ||\n    (import.meta.env.NODE_ENV === \"development\"\n      ? \"http://localhost:7075/api\"\n      : \"https://sutra-api.azurewebsites.net/api\")\n  );\n};\n\nconst API_BASE_URL = getApiBaseUrl();\n\nexport interface ApiResponse<T = any> {\n  data?: T;\n  error?: string;\n  message?: string;\n  timestamp?: string;\n}\n\nexport interface PaginatedResponse<T> {\n  items: T[];\n  pagination: {\n    current_page: number;\n    total_pages: number;\n    total_count: number;\n    limit: number;\n    has_next: boolean;\n    has_prev: boolean;\n  };\n}\n\nclass ApiService {\n  private baseUrl: string;\n  private token: string | null = null;\n\n  // Initialize with auth token on construction\n  constructor(baseUrl: string = API_BASE_URL) {\n    this.baseUrl = baseUrl;\n    // Try to get auth token on initialization\n    this.getAuthToken()\n      .then((token) => {\n        if (token) {\n          this.setToken(token);\n        }\n      })\n      .catch(() => {\n        // Ignore auth errors during initialization\n      });\n  }\n\n  setToken(token: string | null) {\n    this.token = token;\n  }\n\n  // Static Web App authentication integration\n  private async getAuthToken(): Promise<string | null> {\n    try {\n      // Static Web App provides auth info at /.auth/me\n      const response = await fetch(\"/.auth/me\");\n      if (response.ok) {\n        const authInfo = await response.json();\n        if (authInfo.clientPrincipal) {\n          // User is authenticated, get access token if available\n          return authInfo.clientPrincipal.accessToken || null;\n        }\n      }\n    } catch (error) {\n      console.debug(\"Auth token not available:\", error);\n    }\n    return null;\n  }\n\n  private getHeaders(): Record<string, string> {\n    const headers: Record<string, string> = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    if (this.token) {\n      headers[\"Authorization\"] = `Bearer ${this.token}`;\n    }\n\n    // Add client info for rate limiting and analytics\n    headers[\"X-Client-Name\"] = \"sutra-web\";\n    headers[\"X-Client-Version\"] = \"1.0.0\";\n\n    return headers;\n  }\n\n  // Enhanced error handling for direct access\n  private async handleResponse<T>(response: Response): Promise<T> {\n    if (!response.ok) {\n      let errorMessage = `HTTP error! status: ${response.status}`;\n\n      // Handle authentication redirects\n      if (response.status === 401) {\n        // Redirect to login if not authenticated\n        window.location.href = \"/login\";\n        throw new Error(\"Authentication required\");\n      }\n\n      try {\n        const errorData = await response.json();\n        errorMessage = errorData.message || errorData.error || errorMessage;\n      } catch (e) {\n        // If JSON parsing fails, use the default error message\n      }\n\n      throw new Error(errorMessage);\n    }\n\n    return response.json();\n  }\n\n  async get<T>(endpoint: string, params?: Record<string, any>): Promise<T> {\n    const url = new URL(`${this.baseUrl}${endpoint}`);\n\n    if (params) {\n      Object.entries(params).forEach(([key, value]) => {\n        if (value !== undefined && value !== null) {\n          url.searchParams.append(key, String(value));\n        }\n      });\n    }\n\n    const response = await fetch(url.toString(), {\n      method: \"GET\",\n      headers: this.getHeaders(),\n    });\n\n    return this.handleResponse<T>(response);\n  }\n\n  async post<T>(endpoint: string, data?: any): Promise<T> {\n    const response = await fetch(`${this.baseUrl}${endpoint}`, {\n      method: \"POST\",\n      headers: this.getHeaders(),\n      body: data ? JSON.stringify(data) : undefined,\n    });\n\n    return this.handleResponse<T>(response);\n  }\n\n  async put<T>(endpoint: string, data?: any): Promise<T> {\n    const response = await fetch(`${this.baseUrl}${endpoint}`, {\n      method: \"PUT\",\n      headers: this.getHeaders(),\n      body: data ? JSON.stringify(data) : undefined,\n    });\n\n    return this.handleResponse<T>(response);\n  }\n\n  async delete<T>(endpoint: string): Promise<T> {\n    const response = await fetch(`${this.baseUrl}${endpoint}`, {\n      method: \"DELETE\",\n      headers: this.getHeaders(),\n    });\n\n    return this.handleResponse<T>(response);\n  }\n}\n\n// Create singleton instance\nexport const apiService = new ApiService();\n\n// Collection related types and functions\nexport interface Collection {\n  id: string;\n  name: string;\n  description: string;\n  type: \"private\" | \"shared_team\" | \"public_marketplace\";\n  owner_id: string;\n  created_at: string;\n  updated_at: string;\n  prompt_count?: number;\n  tags?: string[];\n}\n\nexport interface Prompt {\n  id: string;\n  title: string;\n  content: string;\n  collection_id: string;\n  created_at: string;\n  updated_at: string;\n  version: number;\n  tags?: string[];\n}\n\nexport interface Playbook {\n  id: string;\n  name: string;\n  description: string;\n  steps: PlaybookStep[];\n  creator_id: string;\n  created_at: string;\n  updated_at: string;\n  visibility: \"private\" | \"shared\";\n}\n\nexport interface PlaybookStep {\n  id: string;\n  type: \"prompt\" | \"review\" | \"variable\";\n  prompt_id?: string;\n  content?: string;\n  variables?: Record<string, any>;\n  order: number;\n}\n\nexport interface LLMIntegration {\n  id: string;\n  provider: string;\n  name: string;\n  api_key: string;\n  enabled: boolean;\n  configuration: Record<string, any>;\n}\n\n// API Functions\nexport const collectionsApi = {\n  list: (params?: {\n    page?: number;\n    limit?: number;\n    search?: string;\n    type?: string;\n  }) => apiService.get<PaginatedResponse<Collection>>(\"/collections\", params),\n\n  get: (id: string) => apiService.get<Collection>(`/collections/${id}`),\n\n  create: (collection: Partial<Collection>) =>\n    apiService.post<Collection>(\"/collections\", collection),\n\n  update: (id: string, collection: Partial<Collection>) =>\n    apiService.put<Collection>(`/collections/${id}`, collection),\n\n  delete: (id: string) => apiService.delete(`/collections/${id}`),\n};\n\nexport const playbooksApi = {\n  list: (params?: {\n    page?: number;\n    limit?: number;\n    search?: string;\n    visibility?: string;\n  }) => apiService.get<PaginatedResponse<Playbook>>(\"/playbooks\", params),\n\n  get: (id: string) => apiService.get<Playbook>(`/playbooks/${id}`),\n\n  create: (playbook: Partial<Playbook>) =>\n    apiService.post<Playbook>(\"/playbooks\", playbook),\n\n  update: (id: string, playbook: Partial<Playbook>) =>\n    apiService.put<Playbook>(`/playbooks/${id}`, playbook),\n\n  delete: (id: string) => apiService.delete(`/playbooks/${id}`),\n\n  execute: (id: string, variables?: Record<string, any>) =>\n    apiService.post(`/playbooks/${id}/execute`, { variables }),\n};\n\nexport const integrationsApi = {\n  listLLM: () =>\n    apiService.get<{\n      integrations: Record<string, LLMIntegration>;\n      supportedProviders: any[];\n    }>(\"/integrations/llm\"),\n\n  saveLLM: (provider: string, integration: Partial<LLMIntegration>) =>\n    apiService.post(`/integrations/llm/${provider}`, integration),\n\n  deleteLLM: (provider: string) =>\n    apiService.delete(`/integrations/llm/${provider}`),\n};\n\nexport const adminApi = {\n  getLLMSettings: () => apiService.get(\"/management/llm/settings\"),\n\n  updateLLMSettings: (settings: any) =>\n    apiService.put(\"/management/llm/settings\", settings),\n\n  getSystemHealth: () => apiService.get(\"/management/system/health\"),\n\n  getUsageStats: () => apiService.get(\"/management/usage\"),\n};\n\nexport const llmApi = {\n  execute: (\n    promptText: string,\n    model: string,\n    variables?: Record<string, any>,\n  ) => apiService.post(\"/llm\", { promptText, model, variables }),\n};\n\nexport default apiService;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}