{"version":3,"names":["cov_34wjxtn10","actualCoverage","useState","useEffect","Dialog","Transition","Fragment","XMarkIcon","ClockIcon","UserIcon","EyeIcon","ArrowUturnLeftIcon","VersionHistory","isOpen","onClose","promptId","promptName","onVersionRestore","f","versions","setVersions","s","selectedVersions","setSelectedVersions","isLoading","setIsLoading","showDiff","setShowDiff","b","setTimeout","id","versionNumber","promptText","contextDetails","intention","tone","audience","createdAt","createdBy","changeNote","llmEvaluations","llm","score","feedback","formatDate","dateString","Date","toLocaleString","handleVersionSelect","versionId","handleRestoreVersion","renderDiff","version1","find","v","version2","_jsxs","className","children","_jsx","appear","show","as","Child","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Panel","Title","onClick","length","map","version","isSelected","includes","evaluation","idx","e","stopPropagation","title"],"sources":["/Users/vedprakashmishra/sutra/src/components/collections/VersionHistory.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Dialog, Transition } from \"@headlessui/react\";\nimport { Fragment } from \"react\";\nimport {\n  XMarkIcon,\n  ClockIcon,\n  UserIcon,\n  EyeIcon,\n  ArrowUturnLeftIcon,\n} from \"@heroicons/react/24/outline\";\n\ninterface VersionHistoryProps {\n  isOpen: boolean;\n  onClose: () => void;\n  promptId: string;\n  promptName: string;\n  onVersionRestore?: (versionId: string) => void;\n}\n\ninterface PromptVersion {\n  id: string;\n  versionNumber: number;\n  promptText: string;\n  contextDetails: Record<string, any>;\n  createdAt: string;\n  createdBy: string;\n  changeNote?: string;\n  llmEvaluations: Array<{\n    llm: string;\n    score: string;\n    feedback: string;\n  }>;\n}\n\nexport default function VersionHistory({\n  isOpen,\n  onClose,\n  promptId,\n  promptName,\n  onVersionRestore,\n}: VersionHistoryProps) {\n  const [versions, setVersions] = useState<PromptVersion[]>([]);\n  const [selectedVersions, setSelectedVersions] = useState<\n    [string, string] | null\n  >(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showDiff, setShowDiff] = useState(false);\n\n  // Mock data for demonstration\n  useEffect(() => {\n    if (isOpen && promptId) {\n      setIsLoading(true);\n      // Simulate API call\n      setTimeout(() => {\n        setVersions([\n          {\n            id: \"v3\",\n            versionNumber: 3,\n            promptText: `Act as a senior marketing expert specializing in {{product_category}}.\n\nWrite a compelling marketing email for {{product_name}} targeting {{target_audience}}.\n\nKey requirements:\n- Use persuasive language that resonates with {{target_audience}}\n- Highlight the main benefit: {{main_benefit}}\n- Include a clear call-to-action\n- Keep the tone {{tone_preference}}\n- Limit to 150 words\n\nExample format:\nSubject: [Compelling subject line]\nBody: [Personalized greeting + benefit + proof + CTA]`,\n            contextDetails: {\n              intention: \"Marketing email template\",\n              tone: \"persuasive\",\n              audience: \"professionals\",\n            },\n            createdAt: \"2025-06-15T10:30:00Z\",\n            createdBy: \"John Doe\",\n            changeNote: \"Added example format and character limit\",\n            llmEvaluations: [\n              {\n                llm: \"GPT-4o\",\n                score: \"Excellent\",\n                feedback: \"Clear structure and good examples\",\n              },\n              {\n                llm: \"Claude-3\",\n                score: \"Good\",\n                feedback: \"Well-structured but could be more specific\",\n              },\n            ],\n          },\n          {\n            id: \"v2\",\n            versionNumber: 2,\n            promptText: `Act as a marketing expert for {{product_name}}.\n\nWrite a marketing email targeting {{target_audience}}.\n\nRequirements:\n- Use {{tone_preference}} tone\n- Highlight {{main_benefit}}\n- Include call-to-action\n- Keep concise`,\n            contextDetails: {\n              intention: \"Marketing email\",\n              tone: \"persuasive\",\n              audience: \"general\",\n            },\n            createdAt: \"2025-06-14T15:45:00Z\",\n            createdBy: \"Jane Smith\",\n            changeNote: \"Added more variables and refined tone\",\n            llmEvaluations: [\n              { llm: \"GPT-4o\", score: \"Good\", feedback: \"Solid structure\" },\n            ],\n          },\n          {\n            id: \"v1\",\n            versionNumber: 1,\n            promptText: `Write a marketing email for {{product_name}}.\n\nMake it persuasive and include a call to action.`,\n            contextDetails: {\n              intention: \"Marketing email\",\n              tone: \"professional\",\n            },\n            createdAt: \"2025-06-14T09:20:00Z\",\n            createdBy: \"John Doe\",\n            changeNote: \"Initial version\",\n            llmEvaluations: [\n              {\n                llm: \"GPT-4o\",\n                score: \"Fair\",\n                feedback: \"Too generic, needs more specificity\",\n              },\n            ],\n          },\n        ]);\n        setIsLoading(false);\n      }, 500);\n    }\n  }, [isOpen, promptId]);\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const handleVersionSelect = (versionId: string) => {\n    if (!selectedVersions) {\n      setSelectedVersions([versionId, versionId]);\n    } else if (selectedVersions[0] === versionId) {\n      setSelectedVersions(null);\n    } else {\n      setSelectedVersions([selectedVersions[0], versionId]);\n      setShowDiff(true);\n    }\n  };\n\n  const handleRestoreVersion = (versionId: string) => {\n    if (onVersionRestore) {\n      onVersionRestore(versionId);\n      onClose();\n    }\n  };\n\n  const renderDiff = () => {\n    if (!selectedVersions || selectedVersions[0] === selectedVersions[1])\n      return null;\n\n    const version1 = versions.find((v) => v.id === selectedVersions[0]);\n    const version2 = versions.find((v) => v.id === selectedVersions[1]);\n\n    if (!version1 || !version2) return null;\n\n    return (\n      <div className=\"mt-6 border-t border-gray-200 pt-6\">\n        <h4 className=\"text-lg font-medium text-gray-900 mb-4\">\n          Comparing Version {version1.versionNumber} with Version{\" \"}\n          {version2.versionNumber}\n        </h4>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <h5 className=\"text-sm font-medium text-gray-700 mb-2\">\n              Version {version1.versionNumber} ({formatDate(version1.createdAt)}\n              )\n            </h5>\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n              <pre className=\"text-sm text-red-800 whitespace-pre-wrap\">\n                {version1.promptText}\n              </pre>\n            </div>\n          </div>\n          <div>\n            <h5 className=\"text-sm font-medium text-gray-700 mb-2\">\n              Version {version2.versionNumber} ({formatDate(version2.createdAt)}\n              )\n            </h5>\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n              <pre className=\"text-sm text-green-800 whitespace-pre-wrap\">\n                {version2.promptText}\n              </pre>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Transition appear show={isOpen} as={Fragment}>\n      <Dialog as=\"div\" className=\"relative z-50\" onClose={onClose}>\n        <Transition.Child\n          as={Fragment}\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 bg-black bg-opacity-25\" />\n        </Transition.Child>\n\n        <div className=\"fixed inset-0 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <Dialog.Panel className=\"w-full max-w-6xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <Dialog.Title\n                    as=\"h3\"\n                    className=\"text-lg font-medium leading-6 text-gray-900\"\n                  >\n                    Version History: {promptName}\n                  </Dialog.Title>\n                  <button\n                    onClick={onClose}\n                    className=\"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                  >\n                    <XMarkIcon className=\"h-6 w-6\" />\n                  </button>\n                </div>\n\n                {isLoading ? (\n                  <div className=\"flex items-center justify-center py-12\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\n                  </div>\n                ) : (\n                  <div>\n                    <div className=\"mb-4\">\n                      <p className=\"text-sm text-gray-600\">\n                        Click versions to select for comparison. Selected:{\" \"}\n                        {selectedVersions ? selectedVersions.length : 0}\n                      </p>\n                    </div>\n\n                    <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                      {versions.map((version) => {\n                        const isSelected = selectedVersions?.includes(\n                          version.id,\n                        );\n                        return (\n                          <div\n                            key={version.id}\n                            className={`border rounded-lg p-4 cursor-pointer transition-colors ${\n                              isSelected\n                                ? \"border-indigo-500 bg-indigo-50\"\n                                : \"border-gray-200 hover:border-gray-300\"\n                            }`}\n                            onClick={() => handleVersionSelect(version.id)}\n                          >\n                            <div className=\"flex items-start justify-between\">\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-center space-x-3 mb-2\">\n                                  <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                                    Version {version.versionNumber}\n                                  </span>\n                                  <div className=\"flex items-center text-sm text-gray-500\">\n                                    <ClockIcon className=\"h-4 w-4 mr-1\" />\n                                    {formatDate(version.createdAt)}\n                                  </div>\n                                  <div className=\"flex items-center text-sm text-gray-500\">\n                                    <UserIcon className=\"h-4 w-4 mr-1\" />\n                                    {version.createdBy}\n                                  </div>\n                                </div>\n\n                                {version.changeNote && (\n                                  <p className=\"text-sm text-gray-700 mb-2\">\n                                    {version.changeNote}\n                                  </p>\n                                )}\n\n                                <div className=\"bg-gray-50 rounded p-3 mb-3\">\n                                  <p className=\"text-sm text-gray-600 line-clamp-3\">\n                                    {version.promptText}\n                                  </p>\n                                </div>\n\n                                {version.llmEvaluations.length > 0 && (\n                                  <div className=\"flex space-x-4 text-xs\">\n                                    {version.llmEvaluations.map(\n                                      (evaluation, idx) => (\n                                        <div\n                                          key={idx}\n                                          className=\"flex items-center space-x-1\"\n                                        >\n                                          <span className=\"font-medium\">\n                                            {evaluation.llm}:\n                                          </span>\n                                          <span\n                                            className={`px-2 py-1 rounded ${\n                                              evaluation.score === \"Excellent\"\n                                                ? \"bg-green-100 text-green-800\"\n                                                : evaluation.score === \"Good\"\n                                                  ? \"bg-blue-100 text-blue-800\"\n                                                  : \"bg-yellow-100 text-yellow-800\"\n                                            }`}\n                                          >\n                                            {evaluation.score}\n                                          </span>\n                                        </div>\n                                      ),\n                                    )}\n                                  </div>\n                                )}\n                              </div>\n\n                              <div className=\"flex space-x-2 ml-4\">\n                                <button\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    // Show full version details\n                                  }}\n                                  className=\"p-2 text-gray-400 hover:text-gray-500 rounded-md hover:bg-gray-100\"\n                                  title=\"View details\"\n                                >\n                                  <EyeIcon className=\"h-4 w-4\" />\n                                </button>\n                                <button\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    handleRestoreVersion(version.id);\n                                  }}\n                                  className=\"p-2 text-blue-600 hover:text-blue-700 rounded-md hover:bg-blue-50\"\n                                  title=\"Restore this version\"\n                                >\n                                  <ArrowUturnLeftIcon className=\"h-4 w-4\" />\n                                </button>\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n\n                    {showDiff && renderDiff()}\n\n                    <div className=\"flex justify-end space-x-3 mt-6\">\n                      {selectedVersions &&\n                        selectedVersions[0] !== selectedVersions[1] && (\n                          <button\n                            onClick={() => setShowDiff(!showDiff)}\n                            className=\"px-4 py-2 text-sm font-medium text-indigo-700 bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                          >\n                            {showDiff ? \"Hide Diff\" : \"Show Diff\"}\n                          </button>\n                        )}\n                      <button\n                        onClick={onClose}\n                        className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </Dialog.Panel>\n            </Transition.Child>\n          </div>\n        </div>\n      </Dialog>\n    </Transition>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}